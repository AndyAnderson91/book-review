{%  extends 'br/base.html' %}

{% block content %}

    {% if results %}

        <h2>
            {% if category == 'book' %}Books found by title:
            {% elif category == 'author' %}Books written by «{{q}}»:
            {% elif category == 'genre' %}Books in «{{q}}» genre:
            {% elif category == 'year' %}Books of «{{q}}» year:
            {% elif category == 'any' %}Books found for «{{q}}» request:
            {% endif %}
        </h2>
        <h3>{{ paginator.count }} result{{ paginator.count|pluralize }}</h3>

        <ul>
            {% for book in page_obj %}

                <li>{% include 'br/book_bar.html' %}</li>

            {% endfor %}
        </ul>

    {% elif category in SEARCH_CATEGORIES %}

        <h2>Nothing found for «{{q}}» :(</h2>

    {% else %}

        <h2>No such category</h2>
        <h3>
            Please choose among
            {% for category in SEARCH_CATEGORIES %}
                {% if not forloop.last %}
                    «{{ category }}»,
                {% else %}
                    «{{ category }}».
                {% endif %}
            {% endfor %}
        </h3>


    {% endif %}

    {% include 'br/pagination.html' %}

{% endblock content %}
